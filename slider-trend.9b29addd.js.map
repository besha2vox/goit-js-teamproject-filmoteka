{"mappings":"2MAAA,IAAAA,EAAAC,EAAA,S,mEAOA,MAAMC,EAAM,IAAI,EAAAF,EAAAG,KACVC,EAAgB,IAAI,EAAAC,EAAAC,OACpBC,EAAkBC,SAASC,cAAc,mBAI/CC,iBACE,MAAMC,EAAkD,QAApC,EAAAC,EAAAC,qBAAoB,YAExC,GADsBC,OAAOC,cACT,IAAK,OACzB,MACMC,SADiBd,EAAIe,qBACHC,QACrBC,KAAIC,GACI,gCAAgCA,EAAQC,iDACVD,EAAQE,4BAC3CF,EAAQG,oCACYH,EAAQI,2BAC5BJ,EAAQK,2BACOL,EAAQM,yBACvBN,EAAQO,8DAERP,EAAQQ,0BACKR,EAAQG,8BACrBH,EAAQS,8BACQT,EAAQU,iGAEtBV,EAAQQ,kGAGiBjB,EAAc,YAAc,cACvDS,EAAQU,oEAOXC,KAAK,IACRxB,EAAgByB,UAAYhB,C,CAjCciB,GAoC1BzB,SAASC,cAAc,kBAC/ByB,iBAAiB,SAE3BxB,eAAmCyB,GACjC,MACMd,EADUc,EAAEC,OAAOC,QAAQ,kBACdhB,GACbiB,QAAapC,EAAIqC,oBAAoBlB,GACrCmB,QAAiB,EAAAC,EAAAC,gBAAeJ,GACtClC,EAAcuC,KAAKH,E,IA+DU,aADA,EAAA5B,EAAAC,qBAAoB,UACT+B,EAAAC,OAAOC,MAAMC,QAAU,O","sources":["src/js/slider-trend.js"],"sourcesContent":["import { API } from './api';\nimport { Modal } from './class-modal';\nimport { searchGenres } from './create-movie-card';\nimport { slider } from './firebase-auth/auth-refs';\nimport { loadDataFromLocalSt } from './utils/local-st-functions';\nimport { getModalMarkup } from './modal';\n\nconst api = new API();\nconst modalUpcoming = new Modal();\nconst sliderContainer = document.querySelector('.trending-list');\n\n// Рендер фильмов, которые скоро покажут в кинотеатрах\nrenderUpcoming();\nasync function renderUpcoming() {\n  const isUkrainian = loadDataFromLocalSt('language') === 'UA';\n  const viewportWidth = window.viewportWidth;\n  if (viewportWidth < 768) return;\n  const upcoming = await api.getUpcomingMovies();\n  const markup = upcoming.results\n    .map(upcomin => {\n      return `<li class=\"trending-card\" id=${upcomin.id}>\n        <div class=\"img-div\" data-genre=\"${upcomin.genre_ids}\" data-ortitle=\"${\n        upcomin.original_title\n      }\" data-popularity=\"${upcomin.popularity}\" data-count=\"${\n        upcomin.vote_count\n      }\" data-title=\"${upcomin.title}\" data-overview=\"${\n        upcomin.overview\n      }\" data-poster=\"https://image.tmdb.org/t/p/original/${\n        upcomin.poster_path\n      }\" data-alt=\"${upcomin.original_title}\" data-vote=\"${\n        upcomin.vote_average\n      }\" data-relise=\"${upcomin.release_date}\">\n        <div><img  class=\"img-trend\" src=\"https://image.tmdb.org/t/p/original/${\n          upcomin.poster_path\n        }\" alt=\"\"></div>\n        <div class=\"info-trend\">\n        <div class=\"relise-date\">${isUkrainian ? 'У кіно з:' : 'Release:'} ${\n        upcomin.release_date\n      }</div>\n        </div>\n        </div>\n      </li>`;\n    })\n\n    .join('');\n  sliderContainer.innerHTML = markup;\n}\n\nconst modalClic = document.querySelector('.trending-list');\nmodalClic.addEventListener('click', renderModalTemplete);\n\nasync function renderModalTemplete(e) {\n  const parrent = e.target.closest('.trending-card');\n  const id = parrent.id;\n  const film = await api.getSearchMoviesByID(id);\n  const template = await getModalMarkup(film);\n  modalUpcoming.open(template);\n}\n\n// function renderModalTemplete(e) {\n//   if (!e.target.closest('li')) {\n//     return;\n//   }/\n//   const parrent = e.target.closest('.img-div');\n//   const genreIds = parrent.dataset.genre.split(',').map(genre => Number(genre));\n//   const genres = searchGenres(genreIds);\n\n//   const markup = `<div class=\"cartUpcomingModal\">\n//   <div class=\"imgUpcomingModal\"><img src=\"${parrent.dataset.poster}\" alt=\"${parrent.dataset.alt}\" class=\"poster\"></div>\n//   <div class=\"infoUpcomingModal\">\n//   <h2 class=\"titleUpcomingModal\">${parrent.dataset.title}</h2>\n//   <ul class=\"listUpcomingModal list\">\n//   <li class=\"itemUpcomingModal\">\n//   <p class=\"keyUpcomingModal\">Vote / Votes</p>\n//   <p class=\"valueUpcomingModal\">\n//   <span class=\"valueUpcomingModal--accent\">${parrent.dataset.vote}</span> /\n//   <span class=\"valueUpcomingModal--uppercase\">${parrent.dataset.count}</span>\n//   </p>\n//   </li>\n\n//   <li class=\"itemUpcomingModal\">\n//   <p class=\"keyUpcomingModal\">Popularity</p>\n//   <p class=\"valueUpcomingModal\">${parrent.dataset.popularity}</p>\n//   </li>\n\n//   <li class=\"itemUpcomingModal\">\n//   <p class=\"keyUpcomingModal\">Original Title</p>\n//   <p class=\"valueUpcomingModal\">${parrent.dataset.ortitle}</p>\n//   </li>\n\n//   <li class=\"itemUpcomingModal\">\n//   <p class=\"keyUpcomingModal\">Relise</p>\n//   <p class=\"valueUpcomingModal\">${parrent.dataset.relise}</p>\n//   </li>\n\n//   <li class=\"itemUpcomingModal\">\n//   <p class=\"keyUpcomingModal\">Genre</p>\n//   <p class=\"valueUpcomingModal\">${genres}</p>\n//   </li>\n//   </ul>\n\n//   <div class=\"wrapperAbout\">\n//   <p class=\"aboutMovie\">About</p>\n//   <p class=\"movieOverview\">${parrent.dataset.overview}</p>\n//   </div>\n\n// </div>\n//   </div>\n//  `;\n\n//   const article = e.target.closest('.trending-card');\n\n//   if (!article) return;\n\n//   modalUpcoming.open(markup);\n// }\n\nfunction checkPageForSlider() {\n  const currentPageOnRefresh = loadDataFromLocalSt('page');\n  if (currentPageOnRefresh === 'library') slider.style.display = 'none';\n}\n\ncheckPageForSlider();\n"],"names":["$7rYDH","parcelRequire","$b0062e8d773e7d64$var$api","API","$b0062e8d773e7d64$var$modalUpcoming","$9lWur","Modal","$b0062e8d773e7d64$var$sliderContainer","document","querySelector","async","isUkrainian","$g8j98","loadDataFromLocalSt","window","viewportWidth","markup","getUpcomingMovies","results","map","upcomin","id","genre_ids","original_title","popularity","vote_count","title","overview","poster_path","vote_average","release_date","join","innerHTML","$b0062e8d773e7d64$var$renderUpcoming","addEventListener","e","target","closest","film","getSearchMoviesByID","template","$bTcpz","getModalMarkup","open","$h6eer","slider","style","display"],"version":3,"file":"slider-trend.9b29addd.js.map"}