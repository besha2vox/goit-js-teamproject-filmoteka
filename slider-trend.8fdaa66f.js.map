{"mappings":"wQAAA,IAAAA,EAAAC,EAAA,S,6FAOMC,EAAM,IAAI,EAAAC,EAAAC,KACVC,EAAgB,IAAI,EAAAC,EAAAC,OACpBC,EAAkBC,SAASC,cAAc,kB,SAIhCC,I,OAAAA,EAAfC,EAAAZ,EAAA,CAAAY,EAAAC,GAAAC,MAAA,SAAAC,I,IACQC,EAGAC,EACAC,E,qEAJAF,EAAkD,QAApC,EAAAG,EAAAC,qBAAoB,cAClBC,OAAOC,cACT,KAAG,C,gEACApB,EAAIqB,oB,OAArBN,EAAQO,EAAAC,KACRP,EAASD,EAASS,QACrBC,KAAI,SAAAC,GACH,MAAO,gCAC8BC,OADED,EAAQE,GAAG,gDAEhDD,OADmCD,EAAQG,UAAU,oBAEjCF,OADpBD,EAAQI,eACT,uBACCH,OADoBD,EAAQK,WAAW,kBAExBJ,OADfD,EAAQM,WACT,kBACCL,OADeD,EAAQO,MAAM,qBAG7BN,OAFAD,EAAQQ,SACT,uDAEcP,OADbD,EAAQS,YACT,gBACCR,OADaD,EAAQI,eAAe,iBAEpBH,OADhBD,EAAQU,aACT,mBAEGT,OAFcD,EAAQW,aAAa,sFAKVV,OAHzBD,EAAQS,YACT,wFAGDR,OAD2Bb,EAAc,YAAc,WAAW,KAEnEa,OADCD,EAAQW,aACT,sD,IAMFC,KAAK,IACRhC,EAAgBiC,UAAYvB,E,4CAhCDwB,MAAAC,KAAAC,U,UAsCdC,I,OAAAA,EAAfjC,EAAAZ,EAAA,CAAAY,EAAAC,GAAAC,MAAA,SAAAC,EAAmC+B,G,IAC3BC,EACAjB,EACAkB,EACAC,E,yEAHAF,EAAUD,EAAEI,OAAOC,QAAQ,kBAC3BrB,EAAKiB,EAAQjB,G,SACA5B,EAAIkD,oBAAoBtB,G,cAArCkB,EAAIxB,EAAAC,K,UACa,EAAA4B,EAAAC,gBAAeN,G,OAAhCC,EAAQzB,EAAAC,KACdpB,EAAckD,KAAKN,G,4CALaP,MAAAC,KAAAC,U,aAtCnBjC,EAAc+B,MAAAC,KAAAC,U,CADeY,GAoC1B/C,SAASC,cAAc,kBAC/B+C,iBAAiB,S,SAEQX,G,OAApBD,EAAmBH,MAAAC,KAAAC,U,IAoEH,aADA,EAAAzB,EAAAC,qBAAoB,UACTsC,EAAAC,OAAOC,MAAMC,QAAU,O","sources":["src/js/slider-trend.js"],"sourcesContent":["import { API } from './api';\nimport { Modal } from './class-modal';\nimport { searchGenres } from './create-movie-card';\nimport { slider } from './firebase-auth/auth-refs';\nimport { loadDataFromLocalSt } from './utils/local-st-functions';\nimport { getModalMarkup } from './modal';\n\nconst api = new API();\nconst modalUpcoming = new Modal();\nconst sliderContainer = document.querySelector('.trending-list');\n\n// Рендер фильмов, которые скоро покажут в кинотеатрах\nrenderUpcoming();\nasync function renderUpcoming() {\n  const isUkrainian = loadDataFromLocalSt('language') === 'UA';\n  const viewportWidth = window.viewportWidth;\n  if (viewportWidth < 768) return;\n  const upcoming = await api.getUpcomingMovies();\n  const markup = upcoming.results\n    .map(upcomin => {\n      return `<li class=\"trending-card\" id=${upcomin.id}>\n        <div class=\"img-div\" data-genre=\"${upcomin.genre_ids}\" data-ortitle=\"${\n        upcomin.original_title\n      }\" data-popularity=\"${upcomin.popularity}\" data-count=\"${\n        upcomin.vote_count\n      }\" data-title=\"${upcomin.title}\" data-overview=\"${\n        upcomin.overview\n      }\" data-poster=\"https://image.tmdb.org/t/p/original/${\n        upcomin.poster_path\n      }\" data-alt=\"${upcomin.original_title}\" data-vote=\"${\n        upcomin.vote_average\n      }\" data-relise=\"${upcomin.release_date}\">\n        <div><img  class=\"img-trend\" src=\"https://image.tmdb.org/t/p/original/${\n          upcomin.poster_path\n        }\" alt=\"\"></div>\n        <div class=\"info-trend\">\n        <div class=\"relise-date\">${isUkrainian ? 'У кіно з:' : 'Release:'} ${\n        upcomin.release_date\n      }</div>\n        </div>\n        </div>\n      </li>`;\n    })\n\n    .join('');\n  sliderContainer.innerHTML = markup;\n}\n\nconst modalClic = document.querySelector('.trending-list');\nmodalClic.addEventListener('click', renderModalTemplete);\n\nasync function renderModalTemplete(e) {\n  const parrent = e.target.closest('.trending-card');\n  const id = parrent.id;\n  const film = await api.getSearchMoviesByID(id);\n  const template = await getModalMarkup(film);\n  modalUpcoming.open(template);\n}\n\n// function renderModalTemplete(e) {\n//   if (!e.target.closest('li')) {\n//     return;\n//   }/\n//   const parrent = e.target.closest('.img-div');\n//   const genreIds = parrent.dataset.genre.split(',').map(genre => Number(genre));\n//   const genres = searchGenres(genreIds);\n\n//   const markup = `<div class=\"cartUpcomingModal\">\n//   <div class=\"imgUpcomingModal\"><img src=\"${parrent.dataset.poster}\" alt=\"${parrent.dataset.alt}\" class=\"poster\"></div>\n//   <div class=\"infoUpcomingModal\">\n//   <h2 class=\"titleUpcomingModal\">${parrent.dataset.title}</h2>\n//   <ul class=\"listUpcomingModal list\">\n//   <li class=\"itemUpcomingModal\">\n//   <p class=\"keyUpcomingModal\">Vote / Votes</p>\n//   <p class=\"valueUpcomingModal\">\n//   <span class=\"valueUpcomingModal--accent\">${parrent.dataset.vote}</span> /\n//   <span class=\"valueUpcomingModal--uppercase\">${parrent.dataset.count}</span>\n//   </p>\n//   </li>\n\n//   <li class=\"itemUpcomingModal\">\n//   <p class=\"keyUpcomingModal\">Popularity</p>\n//   <p class=\"valueUpcomingModal\">${parrent.dataset.popularity}</p>\n//   </li>\n\n//   <li class=\"itemUpcomingModal\">\n//   <p class=\"keyUpcomingModal\">Original Title</p>\n//   <p class=\"valueUpcomingModal\">${parrent.dataset.ortitle}</p>\n//   </li>\n\n//   <li class=\"itemUpcomingModal\">\n//   <p class=\"keyUpcomingModal\">Relise</p>\n//   <p class=\"valueUpcomingModal\">${parrent.dataset.relise}</p>\n//   </li>\n\n//   <li class=\"itemUpcomingModal\">\n//   <p class=\"keyUpcomingModal\">Genre</p>\n//   <p class=\"valueUpcomingModal\">${genres}</p>\n//   </li>\n//   </ul>\n\n//   <div class=\"wrapperAbout\">\n//   <p class=\"aboutMovie\">About</p>\n//   <p class=\"movieOverview\">${parrent.dataset.overview}</p>\n//   </div>\n\n// </div>\n//   </div>\n//  `;\n\n//   const article = e.target.closest('.trending-card');\n\n//   if (!article) return;\n\n//   modalUpcoming.open(markup);\n// }\n\nfunction checkPageForSlider() {\n  const currentPageOnRefresh = loadDataFromLocalSt('page');\n  if (currentPageOnRefresh === 'library') slider.style.display = 'none';\n}\n\ncheckPageForSlider();\n"],"names":["$eZ7d6","parcelRequire","$3819292f49c1a501$var$api","$b7ONl","API","$3819292f49c1a501$var$modalUpcoming","$3oAgU","Modal","$3819292f49c1a501$var$sliderContainer","document","querySelector","$3819292f49c1a501$var$_renderUpcoming","$parcel$interopDefault","$2TvXO","mark","_callee","isUkrainian","upcoming","markup","$kN4zT","loadDataFromLocalSt","window","viewportWidth","getUpcomingMovies","_ctx","sent","results","map","upcomin","concat","id","genre_ids","original_title","popularity","vote_count","title","overview","poster_path","vote_average","release_date","join","innerHTML","apply","this","arguments","$3819292f49c1a501$var$_renderModalTemplete","e","parrent","film","template","target","closest","getSearchMoviesByID","$5xtVg","getModalMarkup","open","$3819292f49c1a501$var$renderUpcoming","addEventListener","$gJ0dy","slider","style","display"],"version":3,"file":"slider-trend.8fdaa66f.js.map"}